# üöÄ DEPLOYMENT GUIDE - Eventloo

## üìã Prerequisites

### **Required Accounts:**
- [Railway](https://railway.app) - Backend & Database
- [Vercel](https://vercel.com) - Frontend
- [GitHub](https://github.com) - Code Repository

### **Required Tools:**
- Git (for version control)
- Railway CLI (optional)
- Vercel CLI (optional)

## üéØ Deployment Strategy

### **Backend (Railway):**
- **Service:** Django REST API
- **Database:** PostgreSQL (Railway)
- **URL:** https://eventloo-production.up.railway.app

### **Frontend (Vercel):**
- **Service:** React SPA
- **URL:** https://eventloo.vercel.app

## üîß Backend Deployment (Railway)

### **Step 1: Prepare Backend**
```bash
# Ensure all files are committed
git add .
git commit -m "Prepare for Railway deployment"
git push origin main
```

### **Step 2: Deploy to Railway**
1. **Go to Railway Dashboard:** https://railway.app/dashboard
2. **Create New Project:** "Deploy from GitHub repo"
3. **Select Repository:** Your eventloo repository
4. **Set Root Directory:** `backend`
5. **Add Environment Variables:**

```env
DEBUG=False
SECRET_KEY=your-secure-secret-key-here
DATABASE_URL=postgresql://... (Railway will auto-generate)
ALLOWED_HOSTS=eventloo-production.up.railway.app,localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=https://eventloo.vercel.app,http://localhost:3000
CSRF_TRUSTED_ORIGINS=https://eventloo.vercel.app,http://localhost:3000
```

### **Step 3: Verify Backend**
```bash
# Test the deployed backend
curl https://eventloo-production.up.railway.app/
# Should return: {"status": "healthy", "service": "eventloo-backend"}
```

## üé® Frontend Deployment (Vercel)

### **Step 1: Prepare Frontend**
```bash
# Ensure production config is correct
cd frontend
npm run build
```

### **Step 2: Deploy to Vercel**
1. **Go to Vercel Dashboard:** https://vercel.com/dashboard
2. **Import Project:** "Import Git Repository"
3. **Select Repository:** Your eventloo repository
4. **Set Root Directory:** `frontend`
5. **Add Environment Variables:**

```env
REACT_APP_API_URL=https://eventloo-production.up.railway.app/api
REACT_APP_FRONTEND_URL=https://eventloo.vercel.app
```

### **Step 3: Configure Build Settings**
- **Framework Preset:** Create React App
- **Build Command:** `npm run build`
- **Output Directory:** `build`
- **Install Command:** `npm install`

## üîê Environment Variables

### **Railway (Backend):**
```env
DEBUG=False
SECRET_KEY=your-secure-secret-key-here
DATABASE_URL=postgresql://... (auto-generated by Railway)
ALLOWED_HOSTS=eventloo-production.up.railway.app,localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=https://eventloo.vercel.app,http://localhost:3000
CSRF_TRUSTED_ORIGINS=https://eventloo.vercel.app,http://localhost:3000
```

### **Vercel (Frontend):**
```env
REACT_APP_API_URL=https://eventloo-production.up.railway.app/api
REACT_APP_FRONTEND_URL=https://eventloo.vercel.app
```

## üß™ Testing Deployment

### **1. Test Backend Health:**
```bash
curl https://eventloo-production.up.railway.app/
# Expected: {"status": "healthy", "service": "eventloo-backend"}
```

### **2. Test API Endpoints:**
```bash
# Test login endpoint
curl -X POST https://eventloo-production.up.railway.app/api/token/ \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@eventloo.com","password":"admin123"}'
```

### **3. Test Frontend:**
- **Open:** https://eventloo.vercel.app
- **Login:** admin@eventloo.com / admin123
- **Test all features:** Events, Users, Teams, etc.

## üîÑ Continuous Deployment

### **Automatic Deployments:**
- **Railway:** Automatically deploys on git push to main
- **Vercel:** Automatically deploys on git push to main

### **Manual Deployments:**
```bash
# Railway (if using CLI)
railway login
railway link
railway up

# Vercel (if using CLI)
vercel login
vercel --prod
```

## üõ†Ô∏è Troubleshooting

### **Common Issues:**

#### **1. Backend Connection Errors:**
- Check Railway logs for startup errors
- Verify environment variables are set
- Ensure DATABASE_URL is correct

#### **2. Frontend API Errors:**
- Verify REACT_APP_API_URL is correct
- Check CORS settings in backend
- Test API endpoints directly

#### **3. Database Issues:**
- Check Railway PostgreSQL logs
- Verify migrations ran successfully
- Test database connection

### **Debug Commands:**
```bash
# Check Railway logs
railway logs

# Check Vercel logs
vercel logs

# Test API endpoints
curl -v https://eventloo-production.up.railway.app/api/admin/dashboard/summary/
```

## üìä Monitoring

### **Railway Monitoring:**
- **Logs:** Available in Railway dashboard
- **Metrics:** CPU, Memory, Network usage
- **Health Checks:** Automatic health monitoring

### **Vercel Monitoring:**
- **Analytics:** Page views, performance
- **Functions:** Serverless function logs
- **Deployments:** Build and deployment status

## üîí Security Checklist

### **Backend Security:**
- ‚úÖ DEBUG=False in production
- ‚úÖ SECRET_KEY is secure and unique
- ‚úÖ CORS properly configured
- ‚úÖ CSRF protection enabled
- ‚úÖ Database credentials secure

### **Frontend Security:**
- ‚úÖ HTTPS enforced
- ‚úÖ Environment variables secure
- ‚úÖ No sensitive data in client code
- ‚úÖ Proper error handling

## üéâ Success Indicators

### **Backend:**
- ‚úÖ Health check returns 200
- ‚úÖ Database migrations successful
- ‚úÖ Admin user created
- ‚úÖ API endpoints responding

### **Frontend:**
- ‚úÖ Build successful
- ‚úÖ Deployed to Vercel
- ‚úÖ Can login successfully
- ‚úÖ All features working

---

## üöÄ Quick Deploy Commands

```bash
# 1. Commit all changes
git add .
git commit -m "Ready for deployment"
git push origin main

# 2. Deploy Backend (Railway)
# - Go to Railway dashboard
# - Connect GitHub repo
# - Set environment variables
# - Deploy

# 3. Deploy Frontend (Vercel)
# - Go to Vercel dashboard
# - Import GitHub repo
# - Set environment variables
# - Deploy

# 4. Test deployment
curl https://eventloo-production.up.railway.app/
open https://eventloo.vercel.app
```

**üéØ Your Eventloo application is now ready for production deployment!** 